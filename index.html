<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crea Tu MiniTiendaExpress</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background-color: #f9f9f9;
            color: #333;
        }

        header {
            text-align: center;
            padding: 20px;
            background-color: #ff3131;
            color: white;
        }

        header img {
            width: 150px;
            height: auto;
            margin-bottom: 20px;
        }

        main {
            padding: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-sizing: border-box;
        }

        .form-group input[type="color"] {
            padding: 0;
            height: 40px;
        }

        .btn {
            display: inline-block;
            padding: 12px 25px;
            background-color: #e3240b;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background-color: #ffdd00;
            color: black;
        }

        .preview {
            margin-top: 20px;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
        }

        .preview-header {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .preview-header img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 20px;
        }

        .product-item {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            background: #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .product-item img {
            width: 100px;
            height: 100px;
            border-radius: 10px;
            object-fit: cover;
            margin-bottom: 10px;
        }

        .product-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }

        .whatsapp-contact {
            margin-top: 20px;
            text-align: center;
        }

        .whatsapp-contact p {
            color: black;
        }

        .whatsapp-contact a {
            color: #25D366;
            text-decoration: none;
            font-weight: bold;
        }

        .whatsapp-contact a:hover {
            text-decoration: underline;
        }

        .menu-title-container {
            margin-bottom: 40px;
        }

        .product-heading {
            margin-top: 30px;
            font-size: 1.5em;
            color: #e3240b;
        }

        .product-group {
            margin-top: 20px;
        }

        .remove-product {
            background-color: #e3240b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        .remove-product:hover {
            background-color: #ffdd00;
            color: black;
        }

        footer {
    text-align: center;
    padding: 0.5px;
    background-color: #ff3131;
    color: white;
    position: fixed;
    width: 100%;
    bottom: 0;
    /* Adjust the bottom padding or margin of the main content to ensure it doesn't overlap with the footer */
    margin-bottom: 0px;
}

        .resources {
            margin-top: 20px;
            padding: 15px;
            background-color: #fff;
            color: #e3240b;
            border-radius: 8px;
        }

        .resources a {
            color: #e3240b;
            text-decoration: none;
            font-weight: bold;
        }

        .resources a:hover {
            text-decoration: underline;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        header,
        .form-group,
        .btn,
        .product-item,
        .whatsapp-contact,
        .menu-title-container,
        .remove-product,
        footer,
        .resources {
            animation: fadeIn 1s ease-in-out;
        }

        #guideModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
        }

        #guideContent {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            max-width: 800px;
            width: 100%;
            animation: fadeInDown 0.5s;
            box-sizing: border-box;
            font-size: 0.9em;
        }

        #guideContent h2 {
            font-size: 1.5em;
        }

        #guideContent h3 {
            font-size: 1.2em;
        }

        #guideContent h4 {
            font-size: 1em;
        }

        #closeGuide {
            background-color: #e3240b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        #closeGuide:hover {
            background-color: #ffdd00;
            color: black;
        }

        #downloadGuide {
            background-color: #e3240b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        #downloadGuide:hover {
            background-color: #ffdd00;
            color: black;
        }

        /* Media Queries for Mobile Responsiveness */
        @media (max-width: 768px) {
            header img {
                width: 100px;
            }

            .btn {
                font-size: 1em;
                padding: 10px 20px;
            }

            #guideContent {
                font-size: 0.8em;
            }

            #guideContent h2 {
                font-size: 1.2em;
            }

            #guideContent h3 {
                font-size: 1em;
            }

            #guideContent h4 {
                font-size: 0.9em;
            }
        }
    </style>
</head>

<body>
    <header>
        <img src="https://i.imgur.com/T5cwFnq.png" alt="MiniTienda Express Logo">
        <h1>Crea Tu MiniTienda Express</h1>
        <p>❤️</p>
    </header>
    <main>
        <div class="resources">
            <h3>Recursos para crear tu página:</h3>
            <ul>
                <li><a href="https://imgur.com/">Imgur</a></li>
                <li><a href="https://imagecolorpicker.com/">Image Color Picker</a></li>
            </ul>
            <button class="btn" id="downloadGuideButton">Descargar "Guía paso a paso"</button>
        </div>
 <div class="contact">
            <h3>¿Tienes alguna pregunta? ¿Necesitas ayuda?</h3>
            <a href="https://minitienda.online" target="_blank" class="btn">Contáctanos</a>
        </div>
        <div id="storeSetup">
            <h2>Configuración de la Tienda</h2>
            <form id="customizationForm">
                <div class="form-group">
                    <label for="shopName">Nombre de la Tienda:</label>
                    <input type="text" id="shopName" name="shopName" required>
                </div>
                <div class="form-group">
                    <label for="themeColor">Color del Tema:</label>
                    <input type="color" id="themeColor" name="themeColor" value="#e3240b">
                </div>
                <div class="form-group">
                    <label for="font">Fuente:</label>
                    <select id="font" name="font">
                        <option value="Montserrat">Montserrat</option>
                        <option value="Arial">Arial</option>
                        <option value="Verdana">Verdana</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="logoUrl">URL del Logo
                        <p> Ejemplo: https://i.imgur.com/ALtaldZ.png </p>
                    </label>
                    <input type="url" id="logoUrl" name="logoUrl">
                </div>
                <div class="form-group">
                    <label for="backgroundColor">Color de Fondo:</label>
                    <input type="color" id="backgroundColor" name="backgroundColor" value="#ffffff">
                </div>
                <div class="form-group">
                    <label for="backgroundImage">URL de la Imagen de Fondo:</label>
                    <input type="url" id="backgroundImage" name="backgroundImage" placeholder="https://example.com/image.jpg">
                </div>
                <div class="form-group">
                    <label for="whatsappNumber">Número de WhatsApp:</label>
                    <input type="tel" id="whatsappNumber" name="whatsappNumber" placeholder="+52 5512345678">
                </div>

                <div id="productsContainer">
                    <div class="form-group product-group" id="productGroup0">
                        <label for="productTitle0">Nombre del Producto o Servicio:</label>
                        <input type="text" id="productTitle0" name="productTitle0">
                        <label for="productDescription0">Descripción del Producto o Servicio:</label>
                        <input type="text" id="productDescription0" name="productDescription0">
                        <label for="productImage0">URL de la Imagen del Producto o Servicio. Ejemplo: https://i.imgur.com/ALtaldZ.png</label>
                        <input type="url" id="productImage0" name="productImage0">
                        <label for="productPrice0">Precio del Producto o Servicio:</label>
                        <input type="number" id="productPrice0" name="productPrice0" step="0.01" min="0">
                        <button type="button" class="remove-product" onclick="removeProductFields(0)">Eliminar Producto o Servicio</button>
                    </div>
                </div>

                <button type="button" id="addProductButton" class="btn">Añadir Producto o Servicio</button>
                <button type="button" id="createStoreButton" class="btn">Crear MiniTienda</button>
                <button type="button" id="downloadCodeButton" class="btn">Descargar Código</button>
                <button type="button" id="guideButton" class="btn">Guía Paso a Paso</button>
            </form>
            
            <div class="preview" id="preview">
                <h2>Vista Previa de tu MiniTienda Express:</h2>
                <!-- La vista previa de la tienda personalizada aparecerá aquí -->
            </div>
        </div>

       
    </main>
    <footer>
        MiniTienda Express ® 2024
    </footer>

    <div id="guideModal">
        <div id="guideContent">
            <h3>Spanish Version</h3>
            <h4>Guía para Crear tu MiniTienda en Línea</h4>
            <h4>Sección de Encabezado</h4>
            <ul>
                <li>Logo: Agrega la URL del logo de tu tienda donde dice "LOGO_URL".</li>
                <li>Título: Cambia el texto "Crea Tu MiniTienda Express" por el nombre de tu tienda.</li>
            </ul>
            <h4>Configuración de la Tienda</h4>
            <ul>
                <li>Nombre de la Tienda: En el grupo de formulario con la etiqueta "Nombre de la Tienda:", ingresa el nombre de tu tienda.</li>
                <li>Color del Tema: Establece el color del tema deseado usando el selector de color.</li>
                <li>Fuente: Selecciona una fuente del menú desplegable.</li>
                <li>URL del Logo: Proporciona la URL de la imagen de tu logo.</li>
                <li>Color de Fondo: Elige un color de fondo para tu tienda.</li>
                <li>Imagen de Fondo: Proporciona una URL para una imagen de fondo si lo deseas.</li>
                <li>Número de WhatsApp: Ingresa tu número de WhatsApp para el contacto con clientes.</li>
            </ul>
            <h4>Agregar Productos o Servicios</h4>
            <ul>
                <li>Nombre del Producto: Ingresa el nombre de tu producto o servicio en el campo "Nombre del Producto o Servicio:".</li>
                <li>Descripción del Producto: Describe tu producto o servicio.</li>
                <li>URL de la Imagen del Producto: Proporciona la URL de la imagen del producto.</li>
                <li>Precio del Producto: Ingresa el precio de tu producto o servicio.</li>
                <li>Añadir Más Productos: Haz clic en el botón "Añadir Producto o Servicio" para agregar más productos. Repite los pasos para cada producto.</li>
                <li>Eliminar Producto: Usa el botón "Eliminar Producto o Servicio" para eliminar cualquier producto.</li>
            </ul>
            <h4>Vista Previa y Personalización</h4>
            <ul>
                <li>Sección de Vista Previa: La sección de vista previa se actualizará dinámicamente a medida que ingreses la información. Esto te permite ver cómo se verá tu tienda antes de finalizar.</li>
                <li>Personalización: Ajusta cualquier configuración y agrega/elimina productos hasta que estés satisfecho con la apariencia de la tienda.</li>
            </ul>
            <h4>Finalización y Guardado</h4>
            <ul>
                <li>Crear Tienda: Haz clic en el botón "Crear MiniTienda" para finalizar tu tienda.</li>
                <li>Descargar Código: Usa el botón "Descargar Código" para descargar el código HTML de tu tienda personalizada. Este archivo se puede cargar en un servidor web para hacer que tu tienda esté en línea.</li>
            </ul>
            <h4>Recursos Adicionales</h4>
            <ul>
                <li>Carga de Imágenes: Usa Imgur para subir imágenes.</li>
                <li>Selector de Colores: Usa Image Color Picker para encontrar la combinación de colores perfecta.</li>
            </ul>
            <button id="closeGuide">Cerrar Guía</button>
            <button id="downloadGuide">Descargar Guía</button>
        </div>
    </div>

    <script>
        let productIndex = 1;

        function addProductFields() {
            if (productIndex >= 10) return;

            const container = document.getElementById('productsContainer');
            const productGroup = document.createElement('div');
            productGroup.classList.add('form-group', 'product-group');
            productGroup.id = `productGroup${productIndex}`;
            productGroup.innerHTML = `
                <h3 class="product-heading">Agregar Producto</h3>
                <label for="productTitle${productIndex}">Título del Producto:</label>
                <input type="text" id="productTitle${productIndex}" name="productTitle${productIndex}">
                <label for="productDescription${productIndex}">Descripción del Producto:</label>
                <input type="text" id="productDescription${productIndex}" name="productDescription${productIndex}">
                <label for="productImage${productIndex}">URL de la Imagen del Producto:</label>
                <input type="url" id="productImage${productIndex}" name="productImage${productIndex}">
                <label for="productPrice${productIndex}">Precio del Producto:</label>
                <input type="number" id="productPrice${productIndex}" name="productPrice${productIndex}" step="0.01" min="0">
                <button type="button" class="remove-product" onclick="removeProductFields(${productIndex})">Eliminar Producto</button>
            `;
            container.appendChild(productGroup);
            productIndex++;
            updatePreview();
        }

        function removeProductFields(index) {
            const productGroup = document.getElementById(`productGroup${index}`);
            if (productGroup) {
                productGroup.remove();
                updatePreview();
            }
        }

        function updatePreview() {
            const shopName = document.getElementById('shopName').value;
            const themeColor = document.getElementById('themeColor').value;
            const font = document.getElementById('font').value;
            const logoUrl = document.getElementById('logoUrl').value;
            const backgroundColor = document.getElementById('backgroundColor').value;
            const backgroundImage = document.getElementById('backgroundImage').value;
            const whatsappNumber = document.getElementById('whatsappNumber').value;

            const preview = document.getElementById('preview');
            let productsHtml = '';

            for (let i = 0; i < productIndex; i++) {
                const title = document.getElementById(`productTitle${i}`)?.value || '';
                const description = document.getElementById(`productDescription${i}`)?.value || '';
                const image = document.getElementById(`productImage${i}`)?.value || 'https://via.placeholder.com/100';
                const price = document.getElementById(`productPrice${i}`)?.value || '0.00';

                if (title && description) {
                    productsHtml += `
                        <div class="product-item">
                            <img src="${image}" alt="${title}">
                            <h3>${title}</h3>
                            <p>${description}</p>
                            <p>Precio: $${parseFloat(price).toFixed(2)}</p>
                        </div>
                    `;
                }
            }

            preview.innerHTML = `
                <div class="preview-header" style="background-color: ${themeColor}; font-family: ${font}; color: white;">
                    <img src="${logoUrl}" alt="Logo">
                    <h1>${shopName}</h1>
                </div>
                <main style="font-family: ${font}; background-color: ${backgroundColor}; background-image: url(${backgroundImage}); background-size: cover;">
                    <div class="menu-title-container" style="background-color: ${themeColor}; color: white;">
                        <h2 style="margin-bottom: 40px;">Tienda en Línea</h2>
                    </div>
                    <div class="product-grid">
                        ${productsHtml}
                    </div>
                    ${whatsappNumber ? `<div class="whatsapp-contact">
                        <p>Contacta con nosotros en: <a href="https://wa.me/${whatsappNumber}" target="_blank">WhatsApp</a></p>
                    </div>` : ''}
                </main>
            `;
        }

        function saveStore() {
            const shopName = document.getElementById('shopName').value;
            const themeColor = document.getElementById('themeColor').value;
            const font = document.getElementById('font').value;
            const logoUrl = document.getElementById('logoUrl').value;
            const backgroundColor = document.getElementById('backgroundColor').value;
            const backgroundImage = document.getElementById('backgroundImage').value;
            const whatsappNumber = document.getElementById('whatsappNumber').value;

            const products = [];
            for (let i = 0; i < productIndex; i++) {
                const title = document.getElementById(`productTitle${i}`)?.value || '';
                const description = document.getElementById(`productDescription${i}`)?.value || '';
                const image = document.getElementById(`productImage${i}`)?.value || 'https://via.placeholder.com/100';
                const price = document.getElementById(`productPrice${i}`)?.value || '0.00';

                if (title && description) {
                    products.push({ title, description, image, price });
                }
            }

            const storeData = { shopName, themeColor, font, logoUrl, backgroundColor, backgroundImage, whatsappNumber, products };
            localStorage.setItem('storeData', JSON.stringify(storeData));
        }

        document.getElementById('addProductButton').addEventListener('click', addProductFields);
        document.getElementById('customizationForm').addEventListener('input', updatePreview);

        document.getElementById('createStoreButton').addEventListener('click', function() {
            saveStore();
            const storeData = JSON.parse(localStorage.getItem('storeData'));
            const storeWindow = window.open('', '_blank');
            
            storeWindow.document.open();
            storeWindow.document.write(`
                <!DOCTYPE html>
                <html lang="es">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>${storeData.shopName}</title>
                    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap">
                    <style>
                        body {
                            font-family: '${storeData.font}', sans-serif;
                            margin: 0;
                            padding: 0;
                            box-sizing: border-box;
                            background-color: ${storeData.backgroundColor};
                            background-image: url(${storeData.backgroundImage});
                            background-size: cover;
                            color: #333;
                        }

                        header {
                            text-align: center;
                            padding: 20px;
                            background-color: ${storeData.themeColor};
                            color: white;
                        }

                        header img {
                            width: 150px;
                            height: 150px;
                            border-radius: 50%;
                            object-fit: cover;
                            margin-bottom: 10px;
                        }

                        main {
                            padding: 20px;
                        }

                        .product-item {
                            border: 1px solid #ddd;
                            border-radius: 8px;
                            padding: 15px;
                            background: #fff;
                            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                            text-align: center;
                        }

                        .product-item img {
                            width: 100px;
                            height: 100px;
                            border-radius: 10px;
                            object-fit: cover;
                            margin-bottom: 10px;
                        }

                        .product-grid {
                            display: flex;
                            flex-wrap: wrap;
                            gap: 20px;
                            justify-content: center;
                        }

                        .whatsapp-contact {
                            margin-top: 20px;
                            text-align: center;
                        }

                        .whatsapp-contact a {
                            color: #25D366;
                            text-decoration: none;
                            font-weight: bold;
                        }

                        .whatsapp-contact a:hover {
                            text-decoration: underline;
                        }

                        .menu-title-container {
                            text-align: center;
                            margin-bottom: 40px;
                            background-color: ${storeData.themeColor};
                            color: white;
                        }

                        .menu-title-container h2 {
                            margin: 0;
                            padding: 10px;
                        }

                        .product-heading {
                            margin-top: 30px;
                            font-size: 1.5em;
                            color: #e3240b;
                        }

                        .product-group {
                            margin-top: 20px;
                        }
                    </style>
                </head>
                <body>
                    <header>
                        <img src="${storeData.logoUrl || 'https://via.placeholder.com/150'}" alt="Logo">
                        <h1>${storeData.shopName}</h1>
                    </header>
                    <main>
                        <div class="menu-title-container">
                            <h2>Tienda en Línea</h2>
                        </div>
                        <div class="product-grid">
                            ${storeData.products.map(product => `
                                <div class="product-item">
                                    <img src="${product.image}" alt="${product.title}">
                                    <h3>${product.title}</h3>
                                    <p>${product.description}</p>
                                    <p>Precio: $${parseFloat(product.price).toFixed(2)}</p>
                                </div>
                            `).join('')}
                        </div>
                        ${storeData.whatsappNumber ? `<div class="whatsapp-contact">
                            <p>Contacta con nosotros en <a href="https://wa.me/${storeData.whatsappNumber}" target="_blank">WhatsApp</a></p>
                        </div>` : ''}
                        
                        <p>¿Tu MiniTienda está lista? ¡No olvides descargar tu código!<a href="https://minitienda.online" target="_blank">Contáctanos para ayudarte a desplegar tu MiniTienda en línea. </a></p>
                    </main>
                </body>
                </html>
            `);

            storeWindow.document.close();
        });

        document.getElementById('downloadCodeButton').addEventListener('click', function() {
            const storeData = JSON.parse(localStorage.getItem('storeData'));
            
            const htmlContent = `
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${storeData.shopName}</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap">
    <style>
        body {
            font-family: '${storeData.font}', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background-color: ${storeData.backgroundColor};
            background-image: url(${storeData.backgroundImage});
            background-size: cover;
            color: #333;
        }

        header {
            text-align: center;
            padding: 20px;
            background-color: ${storeData.themeColor};
            color: white;
        }

        header img {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 10px;
        }

        main {
            padding: 20px;
        }

        .product-item {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            background: #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .product-item img {
            width: 100px;
            height: 100px;
            border-radius: 10px;
            object-fit: cover;
            margin-bottom: 10px;
        }

        .product-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }

        .whatsapp-contact {
            margin-top: 20px;
            text-align: center;
        }

        .whatsapp-contact a {
            color: #25D366;
            text-decoration: none;
            font-weight: bold;
        }

        .whatsapp-contact a:hover {
            text-decoration: underline;
        }

        .menu-title-container {
            text-align: center;
            margin-bottom: 40px;
            background-color: ${storeData.themeColor};
            color: white;
        }

        .menu-title-container h2 {
            margin: 0;
            padding: 10px;
        }
    </style>
</head>
<body>
    <header>
        <img src="${storeData.logoUrl || 'https://via.placeholder.com/150'}" alt="Logo">
        <h1>${storeData.shopName}</h1>
    </header>
    <main>
        <div class="menu-title-container">
            <h2>Tienda en Línea</h2>
        </div>
        <div class="product-grid">
            ${storeData.products.map(product => `
                <div class="product-item">
                    <img src="${product.image}" alt="${product.title}">
                    <h3>${product.title}</h3>
                    <p>${product.description}</p>
                    <p>Precio: $${parseFloat(product.price).toFixed(2)}</p>
                </div>
            `).join('')}
        </div>
        ${storeData.whatsappNumber ? `<div class="whatsapp-contact">
            <p>Contacta con nosotros en <a href="https://wa.me/${storeData.whatsappNumber}" target="_blank">WhatsApp</a></p>
        </div>` : ''}
        
        <p>¿Tu MiniTienda está lista? ¡No olvides descargar tu código!<a href="https://minitienda.online" target="_blank">Contáctanos para ayudarte a ponerla en línea. </a></p>
    </main>
</body>
</html>
`;

            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${storeData.shopName.replace(/\s+/g, '_')}_store.html`;
            a.click();
            URL.revokeObjectURL(url);
        });

        document.getElementById('guideButton').addEventListener('click', function() {
            document.getElementById('guideModal').style.display = 'flex';
        });

        document.getElementById('closeGuide').addEventListener('click', function() {
            document.getElementById('guideModal').style.display = 'none';
        });

        document.getElementById('downloadGuideButton').addEventListener('click', function() {
            const guideContent = `Guía paso a paso
English Version
Header Section

Logo: Add the URL of your store's logo where it says "LOGO_URL".
Title: Change the text "Crea Tu MiniTienda Express" to your store's name.
Store Configuration

Store Name: In the form group with the label "Nombre de la Tienda:", input the name of your store.
Theme Color: Set the desired theme color using the color picker.
Font: Select a font from the dropdown options.
Logo URL: Provide the URL of your logo image.
Background Color: Choose a background color for your store.
Background Image: Provide a URL for a background image if desired.
WhatsApp Number: Enter your WhatsApp number for customer contact.
Adding Products or Services

Product Name: Enter the name of your product or service in the "Nombre del Producto o Servicio:" field.
Product Description: Describe your product or service.
Product Image URL: Provide the URL for the product image.
Product Price: Enter the price of your product or service.
Add More Products: Click the "Añadir Producto o Servicio" button to add more products. Repeat the steps for each product.
Remove Product: Use the "Eliminar Producto o Servicio" button to remove any product.
Preview and Customize

Preview Section: The preview section will dynamically update as you input information. This allows you to see how your store will look before finalizing.
Customization: Adjust any settings and add/remove products until satisfied with the store's appearance.
Finalizing and Saving

Create Store: Click on the "Crear MiniTienda" button to finalize your store.
Download Code: Use the "Descargar Código" button to download the HTML code of your customized store. This file can be uploaded to a web server to make your store live.
Additional Resources

Image Uploads: Use Imgur to upload images.
Color Picker: Use Image Color Picker to find the perfect color scheme.
Spanish Version
Guía para Crear tu MiniTienda en Línea
Sección de Encabezado

Logo: Agrega la URL del logo de tu tienda donde dice "LOGO_URL".
Título: Cambia el texto "Crea Tu MiniTienda Express" por el nombre de tu tienda.
Configuración de la Tienda

Nombre de la Tienda: En el grupo de formulario con la etiqueta "Nombre de la Tienda:", ingresa el nombre de tu tienda.
Color del Tema: Establece el color del tema deseado usando el selector de color.
Fuente: Selecciona una fuente del menú desplegable.
URL del Logo: Proporciona la URL de la imagen de tu logo.
Color de Fondo: Elige un color de fondo para tu tienda.
Imagen de Fondo: Proporciona una URL para una imagen de fondo si lo deseas.
Número de WhatsApp: Ingresa tu número de WhatsApp para el contacto con clientes.
Agregar Productos o Servicios

Nombre del Producto: Ingresa el nombre de tu producto o servicio en el campo "Nombre del Producto o Servicio:".
Descripción del Producto: Describe tu producto o servicio.
URL de la Imagen del Producto: Proporciona la URL de la imagen del producto.
Precio del Producto: Ingresa el precio de tu producto o servicio.
Añadir Más Productos: Haz clic en el botón "Añadir Producto o Servicio" para agregar más productos. Repite los pasos para cada producto.
Eliminar Producto: Usa el botón "Eliminar Producto o Servicio" para eliminar cualquier producto.
Vista Previa y Personalización

Sección de Vista Previa: La sección de vista previa se actualizará dinámicamente a medida que ingreses la información. Esto te permite ver cómo se verá tu tienda antes de finalizar.
Personalización: Ajusta cualquier configuración y agrega/elimina productos hasta que estés satisfecho con la apariencia de la tienda.
Finalización y Guardado

Crear Tienda: Haz clic en el botón "Crear MiniTienda" para finalizar tu tienda.
Descargar Código: Usa el botón "Descargar Código" para descargar el código HTML de tu tienda personalizada. Este archivo se puede cargar en un servidor web para hacer que tu tienda esté en línea.
Recursos Adicionales

Carga de Imágenes: Usa Imgur para subir imágenes.
Selector de Colores: Usa Image Color Picker para encontrar la combinación de colores perfecta.`;

            const blob = new Blob([guideContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'Guía_paso_a_paso.txt';
            a.click();
            URL.revokeObjectURL(url);
        });
    </script>
</body>
</html>
