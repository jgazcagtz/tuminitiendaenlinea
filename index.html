
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MiniTienda Express Shop Generator</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background-color: #f9f9f9;
            color: #333;
        }

        header {
            text-align: center;
            padding: 20px;
            background-color: #ff3131;
            color: white;
            animation: fadeIn 1s ease-in-out;
        }

        header img {
            width: 150px;
            height: auto;
            margin-bottom: 20px;
        }

        main {
            padding: 20px;
            animation: fadeIn 1s ease-in-out;
        }

        .btn {
            display: inline-block;
            padding: 12px 25px;
            background-color: #e3240b;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1em;
            margin-top: 10px;
            transition: all 0.3s ease;
            animation: fadeIn 1s ease-in-out;
        }

        .btn:hover {
            background-color: #ffdd00;
            color: black;
        }

        .privacy-policy {
            text-align: left;
            margin-top: 20px;
            padding: 15px;
            background-color: #fff;
            border-radius: 8px;
            color: #333;
            font-size: 0.9em;
            animation: fadeIn 1s ease-in-out;
        }

        footer {
            text-align: center;
            padding: 0.5px;
            background-color: #ff3131;
            color: white;
            position: fixed;
            width: 100%;
            bottom: 0;
            animation: fadeIn 1s ease-in-out;
        }

        iframe {
            border: none;
            width: 100%;
            height: 1087px;
            margin-bottom: 20px;
            animation: fadeIn 1s ease-in-out;
        }

        .form-group {
            margin-bottom: 20px;
            animation: fadeIn 1s ease-in-out;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            animation: fadeIn 1s ease-in-out;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-sizing: border-box;
            animation: fadeIn 1s ease-in-out;
        }

        .preview {
            margin-top: 20px;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            animation: fadeIn 1s ease-in-out;
        }

        .preview-header {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            animation: fadeIn 1s ease-in-out;
        }

        .preview-header img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 20px;
            animation: fadeIn 1s ease-in-out;
        }

        .product-item {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            background: #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
            animation: fadeIn 1s ease-in-out;
        }

        .product-item img {
            width: 100px;
            height: 100px;
            border-radius: 10px;
            object-fit: cover;
            margin-bottom: 10px;
            animation: fadeIn 1s ease-in-out;
        }

        .product-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            animation: fadeIn 1s ease-in-out;
        }

        .whatsapp-contact {
            margin-top: 20px;
            text-align: center;
            animation: fadeIn 1s ease-in-out;
        }

        .whatsapp-contact p {
            color: black;
            animation: fadeIn 1s ease-in-out;
        }

        .whatsapp-contact a {
            color: #25D366;
            text-decoration: none;
            font-weight: bold;
            animation: fadeIn 1s ease-in-out;
        }

        .whatsapp-contact a:hover {
            text-decoration: underline;
            animation: fadeIn 1s ease-in-out;
        }

        .menu-title-container {
            margin-bottom: 40px;
            animation: fadeIn 1s ease-in-out;
        }

        .product-heading {
            margin-top: 30px;
            font-size: 1.5em;
            color: #e3240b;
            animation: fadeIn 1s ease-in-out;
        }

        .product-group {
            margin-top: 20px;
            animation: fadeIn 1s ease-in-out;
        }

        .remove-product {
            background-color: #e3240b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
            transition: all 0.3s ease;
            animation: fadeIn 1s ease-in-out;
        }

        .remove-product:hover {
            background-color: #ffdd00;
            color: black;
            animation: fadeIn 1s ease-in-out;
        }

        .resources {
            margin-top: 20px;
            padding: 15px;
            background-color: #fff;
            color: #e3240b;
            border-radius: 8px;
            animation: fadeIn 1s ease-in-out;
        }

        .resources a {
            color: #e3240b;
            text-decoration: none;
            font-weight: bold;
            animation: fadeIn 1s ease-in-out;
        }

        .resources a:hover {
            text-decoration: underline;
            animation: fadeIn 1s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        /* Hide the store setup section initially */
        #storeSetup {
            display: none;
        }

        /* Modal styles */
        #guideModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
            animation: fadeIn 1s ease-in-out;
        }

        #guideContent {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            max-width: 800px;
            width: 100%;
            animation: fadeIn 0.5s;
            box-sizing: border-box;
            font-size: 0.9em;
        }

        #guideContent h2 {
            font-size: 1.5em;
        }

        #guideContent h3 {
            font-size: 1.2em;
        }

        #guideContent h4 {
            font-size: 1em;
        }

        #closeGuide {
            background-color: #e3240b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        #closeGuide:hover {
            background-color: #ffdd00;
            color: black;
        }
    </style>
</head>
<body>
    <header>
        <img src="https://i.imgur.com/T5cwFnq.png" alt="MiniTienda Express Logo">
        <h1>Crea tu MiniTienda Express</h1>
    </header>
    <main>
        <!-- Google Form Section -->
        <h2>Formulario de Registro</h2>
        <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSfloWMPNN4TjeB-zftnwrDFs7LmEJwULNSno_m-JLeBDnrHYQ/viewform?embedded=true" width="640" height="672" frameborder="0" marginheight="0" marginwidth="0">Cargando…</iframe>

        <div class="privacy-policy">
            <h3>Política de Privacidad</h3>
            <p>Última actualización: Julio 2024</p>

            <p>En MiniTienda Express, nos comprometemos a proteger su privacidad y a garantizar la seguridad de su información personal. Esta Política de Privacidad describe cómo recopilamos, usamos y protegemos la información que obtenemos de nuestros usuarios y clientes.</p>

            <h4>1. Información que Recopilamos</h4>
            <p>Recopilamos la siguiente información cuando usted visita nuestro sitio web o utiliza nuestros servicios:</p>
            <ul>
                <li><strong>Información Personal:</strong> Nombre, dirección de correo electrónico, número de teléfono y detalles de contacto que usted proporciona voluntariamente al registrarse o al ponerse en contacto con nosotros.</li>
                <li><strong>Información de Transacciones:</strong> Datos relacionados con la compra de nuestros paquetes, incluyendo detalles de pago.</li>
                <li><strong>Información de Navegación:</strong> Datos sobre su visita a nuestro sitio web, incluyendo su dirección IP, tipo de navegador y páginas visitadas.</li>
            </ul>

            <h4>2. Uso de la Información</h4>
            <p>Utilizamos la información que recopilamos para los siguientes propósitos:</p>
            <ul>
                <li><strong>Proveer y Mejorar Nuestros Servicios:</strong> Para configurar y gestionar su tienda en línea o página web, y para responder a sus consultas y solicitudes.</li>
                <li><strong>Procesar Transacciones:</strong> Para procesar sus pagos y enviarle confirmaciones de compra.</li>
                <li><strong>Comunicación:</strong> Para enviarle actualizaciones sobre nuestros servicios, promociones y noticias que puedan ser de su interés. Puede optar por no recibir estas comunicaciones en cualquier momento.</li>
                <li><strong>Análisis y Mejora:</strong> Para analizar cómo se usa nuestro sitio web y mejorar nuestros servicios.</li>
            </ul>

            <h4>3. Protección de la Información</h4>
            <p>Implementamos medidas de seguridad razonables para proteger su información personal de accesos no autorizados, divulgación, alteración o destrucción. Sin embargo, ningún sistema de transmisión de datos o almacenamiento electrónico es completamente seguro, y no podemos garantizar la seguridad absoluta de su información.</p>

            <h4>4. Compartición de Información</h4>
            <p>No compartimos su información personal con terceros, excepto en las siguientes circunstancias:</p>
            <ul>
                <li><strong>Proveedores de Servicios:</strong> Con proveedores de servicios que nos ayudan a operar nuestro sitio web o a procesar transacciones, siempre que estos proveedores se comprometan a mantener la confidencialidad de su información.</li>
                <li><strong>Requisitos Legales:</strong> Cuando sea necesario para cumplir con la ley, responder a solicitudes legales o proteger nuestros derechos y propiedad.</li>
            </ul>

            <h4>5. Sus Derechos</h4>
            <p>Usted tiene el derecho de acceder, corregir o eliminar la información personal que tenemos sobre usted. Para ejercer estos derechos, por favor contáctenos a través de la información proporcionada en la sección de contacto a continuación.</p>

            <h4>6. Cambios en Esta Política</h4>
            <p>Podemos actualizar esta Política de Privacidad de vez en cuando. Cualquier cambio será publicado en esta página con una fecha de revisión actualizada. Le recomendamos revisar esta política periódicamente para estar informado sobre cómo protegemos su información.</p>

            <h4>7. Contacto</h4>
            <p>Si tiene alguna pregunta o inquietud sobre esta Política de Privacidad, puede contactarnos en:</p>
            <p><strong>Correo Electrónico:</strong> info@minitienda.online</p>

            <p>Gracias por confiar en MiniTienda Express. Valoramos su privacidad y nos esforzamos por proteger su información personal.</p>
        </div>

        <p><input type="checkbox" id="formSubmitted"> Aceptar Política de Privacidad </p>
        <p><button type="button" id="ingresarButton" class="btn">Ingresar</button>

        <!-- Store Setup Section -->
        <div id="storeSetup">
            <div class="resources">
                <h3>🌐 Recursos adicionales para crear tu MiniTienda:</h3>
                <ul>
                    <li><a href="https://imgur.com/">Imgur</a></li>
                    <li><a href="https://imagecolorpicker.com/">Image Color Picker</a></li><br>
                    <li><a href="https://chatgpt.com/g/g-jSogpOxDa-minitienda-express" target="_blank">🤖 Pide ayuda a nuestro Bot para crear tu MiniTienda</a></li>
                </ul><br>
                
                <button type="button" id="guideButton" class="btn">📚 Guía Paso a Paso</button>
            </div>
            <div class="contact">
                <h3>🙊 ¿Tienes alguna pregunta? ¿Necesitas ayuda?</h3>
                <a href="https://minitienda.online" target="_blank" class="btn">Contáctanos</a>
            </div><br>
            <div id="storeSetupForm">
                <h2>⚙️ Configuración de la Tienda 🛠️</h2>
                <form id="customizationForm">
                    <div class="form-group">
                        <label for="shopName">🏪 Nombre de la Tienda:</label>
                        <input type="text" id="shopName" name="shopName" required>
                    </div>
                    <div class="form-group">
                        <label for="themeColor">🎨 Color del Tema:</label>
                        <input type="color" id="themeColor" name="themeColor" value="#e3240b">
                    </div>
                    <div class="form-group">
                        <label for="font">Fuente:</label>
                        <select id="font" name="font">
                            <option value="Montserrat">Montserrat</option>
                            <option value="Arial">Arial</option>
                            <option value="Verdana">Verdana</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="logoUrl">📷 URL del Logo
                            <p> Ejemplo: https://i.imgur.com/ALtaldZ.png </p>
                        </label>
                        <input type="url" id="logoUrl" name="logoUrl">
                    </div>
                    <div class="form-group">
                        <label for="backgroundColor">🎨 Color de Fondo:</label>
                        <input type="color" id="backgroundColor" name="backgroundColor" value="#ffffff">
                    </div>
                    <div class="form-group">
                        <label for="backgroundImage">📷 URL de la Imagen de Fondo:</label>
                        <input type="url" id="backgroundImage" name="backgroundImage" placeholder="https://example.com/image.jpg">
                    </div>
                    <div class="form-group">
                        <label for="whatsappNumber">📲 Número de WhatsApp:</label>
                        <input type="tel" id="whatsappNumber" name="whatsappNumber" placeholder="+52 5512345678">
                    </div>
                    <h3>🛍️ Ingresa tus productos, servicios, membresías y más:</h3>
                    <div id="productsContainer">
                        <div class="form-group product-group" id="productGroup0">
                            <label for="productTitle0">Nombre del Producto o Servicio:</label>
                            <input type="text" id="productTitle0" name="productTitle0">
                            <label for="productDescription0">Descripción del Producto o Servicio:</label>
                            <input type="text" id="productDescription0" name="productDescription0">
                            <label for="productImage0">URL de la Imagen del Producto o Servicio. Ejemplo: https://i.imgur.com/ALtaldZ.png</label>
                            <input type="url" id="productImage0" name="productImage0">
                            <label for="productPrice0">Precio del Producto o Servicio:</label>
                            <input type="number" id="productPrice0" name="productPrice0" step="0.01" min="0">
                            <button type="button" class="remove-product" onclick="removeProductFields(0)">Eliminar Producto o Servicio</button>
                        </div>
                    </div>

                    <button type="button" id="addProductButton" class="btn">Añadir Producto o Servicio</button>
                    <button type="button" id="createStoreButton" class="btn">Crear MiniTienda</button>
                    <button type="button" id="downloadCodeButton" class="btn">Descargar Página</button>
                    
                </form>

                <div class="preview" id="preview">
                    <h2>🔍 Vista Previa de tu MiniTienda Express</h2>
                    <!-- La vista previa de la tienda personalizada aparecerá aquí -->
                </div>
            </div>
        </div>
    </main>
    <footer>
        MiniTienda Express ® 2024
    </footer>

    <!-- Modal for Guía Paso a Paso -->
    <div id="guideModal">
        <div id="guideContent">
           <h1>Guía para Crear tu MiniTienda en Línea</h1>
        
            <h2>Sección de Encabezado</h2>
            <ul>
                <li><strong>Logo:</strong> Agrega la URL del logo de tu tienda donde dice "LOGO_URL".</li>
                <li><strong>Título:</strong> Cambia el texto "Crea Tu MiniTienda Express" por el nombre de tu tienda.</li>
                <li><strong>Nombre de la Tienda:</strong> En el grupo de formulario con la etiqueta "Nombre de la Tienda:", ingresa el nombre de tu tienda.</li>
                <li><strong>Color del Tema:</strong> Establece el color del tema deseado usando el selector de color.</li>
                <li><strong>Fuente:</strong> Selecciona una fuente del menú desplegable.</li>
                <li><strong>URL del Logo:</strong> Proporciona la URL de la imagen de tu logo.</li>
                <li><strong>Color de Fondo:</strong> Elige un color de fondo para tu tienda.</li>
                <li><strong>Imagen de Fondo:</strong> Proporciona una URL para una imagen de fondo si lo deseas.</li>
                <li><strong>Número de WhatsApp:</strong> Ingresa tu número de WhatsApp para el contacto con clientes.</li>
            </ul>
        
            <h2>Agregar Productos o Servicios</h2>
            <ul>
                <li><strong>Nombre del Producto:</strong> Ingresa el nombre de tu producto o servicio en el campo "Nombre del Producto o Servicio:".</li>
                <li><strong>Descripción del Producto:</strong> Describe tu producto o servicio.</li>
                <li><strong>URL de la Imagen del Producto:</strong> Proporciona la URL de la imagen del producto.</li>
                <li><strong>Precio del Producto:</strong> Ingresa el precio de tu producto o servicio.</li>
                <li><strong>Añadir Más Productos:</strong> Haz clic en el botón "Añadir Producto o Servicio" para agregar más productos. Repite los pasos para cada producto.</li>
                <li><strong>Eliminar Producto:</strong> Usa el botón "Eliminar Producto o Servicio" para eliminar cualquier producto.</li>
            </ul>
        
            <h2>Vista Previa y Personalización</h2>
            <ul>
                <li><strong>Sección de Vista Previa:</strong> La sección de vista previa se actualizará dinámicamente a medida que ingreses la información. Esto te permite ver cómo se verá tu tienda antes de finalizar.</li>
                <li><strong>Personalización:</strong> Ajusta cualquier configuración y agrega/elimina productos hasta que estés satisfecho con la apariencia de la tienda.</li>
            </ul>
        
            <h2>Finalización y Guardado</h2>
            <ul>
                <li><strong>Crear Tienda:</strong> Haz clic en el botón "Crear MiniTienda" para finalizar tu tienda.</li>
                <li><strong>Descargar Código:</strong> Usa el botón "Descargar Página" para descargar tu tienda personalizada.</li>
            </ul>
        
            <h2>Recursos Adicionales</h2>
            <ul>
                <li><strong>Carga de Imágenes:</strong> Usa Imgur para subir imágenes.</li>
                <li><strong>Selector de Colores:</strong> Usa Image Color Picker para encontrar la combinación de colores perfecta.</li>
            </ul> 
            <button id="closeGuide">Cerrar Guía</button>
        </div>
    </div> 

    <script>
        let productIndex = 1;

        function addProductFields() {
            if (productIndex >= 10) return;

            const container = document.getElementById('productsContainer');
            const productGroup = document.createElement('div');
            productGroup.classList.add('form-group', 'product-group');
            productGroup.id = `productGroup${productIndex}`;
            productGroup.innerHTML = `
                <h3 class="product-heading">Agregar Producto</h3>
                <label for="productTitle${productIndex}">Título del Producto:</label>
                <input type="text" id="productTitle${productIndex}" name="productTitle${productIndex}">
                <label for="productDescription${productIndex}">Descripción del Producto:</label>
                <input type="text" id="productDescription${productIndex}" name="productDescription${productIndex}">
                <label for="productImage${productIndex}">URL de la Imagen del Producto:</label>
                <input type="url" id="productImage${productIndex}" name="productImage${productIndex}">
                <label for="productPrice${productIndex}">Precio del Producto:</label>
                <input type="number" id="productPrice${productIndex}" name="productPrice${productIndex}" step="0.01" min="0">
                <button type="button" class="remove-product" onclick="removeProductFields(${productIndex})">Eliminar Producto</button>
            `;
            container.appendChild(productGroup);
            productIndex++;
            updatePreview();
        }

        function removeProductFields(index) {
            const productGroup = document.getElementById(`productGroup${index}`);
            if (productGroup) {
                productGroup.remove();
                updatePreview();
            }
        }

        function updatePreview() {
            const shopName = document.getElementById('shopName').value;
            const themeColor = document.getElementById('themeColor').value;
            const font = document.getElementById('font').value;
            const logoUrl = document.getElementById('logoUrl').value;
            const backgroundColor = document.getElementById('backgroundColor').value;
            const backgroundImage = document.getElementById('backgroundImage').value;
            const whatsappNumber = document.getElementById('whatsappNumber').value;

            const preview = document.getElementById('preview');
            let productsHtml = '';

            for (let i = 0; i < productIndex; i++) {
                const title = document.getElementById(`productTitle${i}`)?.value || '';
                const description = document.getElementById(`productDescription${i}`)?.value || '';
                const image = document.getElementById(`productImage${i}`)?.value || 'https://via.placeholder.com/100';
                const price = document.getElementById(`productPrice${i}`)?.value || '0.00';

                if (title && description) {
                    productsHtml += `
                        <div class="product-item">
                            <img src="${image}" alt="${title}">
                            <h3>${title}</h3>
                            <p>${description}</p>
                            <p>Precio: $${parseFloat(price).toFixed(2)}</p>
                        </div>
                    `;
                }
            }

            preview.innerHTML = `
                <div class="preview-header" style="background-color: ${themeColor}; font-family: ${font}; color: white;">
                    <img src="${logoUrl}" alt="Logo">
                    <h1>${shopName}</h1>
                </div>
                <main style="font-family: ${font}; background-color: ${backgroundColor}; background-image: url(${backgroundImage}); background-size: cover;">
                    <div class="menu-title-container" style="background-color: ${themeColor}; color: white;">
                        <h2 style="margin-bottom: 40px;">Tienda en Línea</h2>
                    </div>
                    <div class="product-grid">
                        ${productsHtml}
                    </div>
                    ${whatsappNumber ? `<div class="whatsapp-contact">
                        <p>Contacta con nosotros en: <a href="https://wa.me/${whatsappNumber}" target="_blank">WhatsApp</a></p>
                    </div>` : ''}
                </main>
            `;
        }

        function saveStore() {
            const shopName = document.getElementById('shopName').value;
            const themeColor = document.getElementById('themeColor').value;
            const font = document.getElementById('font').value;
            const logoUrl = document.getElementById('logoUrl').value;
            const backgroundColor = document.getElementById('backgroundColor').value;
            const backgroundImage = document.getElementById('backgroundImage').value;
            const whatsappNumber = document.getElementById('whatsappNumber').value;

            const products = [];
            for (let i = 0; i < productIndex; i++) {
                const title = document.getElementById(`productTitle${i}`)?.value || '';
                const description = document.getElementById(`productDescription${i}`)?.value || '';
                const image = document.getElementById(`productImage${i}`)?.value || 'https://via.placeholder.com/100';
                const price = document.getElementById(`productPrice${i}`)?.value || '0.00';

                if (title && description) {
                    products.push({ title, description, image, price });
                }
            }

            const storeData = { shopName, themeColor, font, logoUrl, backgroundColor, backgroundImage, whatsappNumber, products };
            localStorage.setItem('storeData', JSON.stringify(storeData));
        }

        document.getElementById('addProductButton').addEventListener('click', addProductFields);
        document.getElementById('customizationForm').addEventListener('input', updatePreview);

        document.getElementById('createStoreButton').addEventListener('click', function() {
            saveStore();
            const storeData = JSON.parse(localStorage.getItem('storeData'));
            const storeWindow = window.open('', '_blank');
            
            storeWindow.document.open();
            storeWindow.document.write(`
                <!DOCTYPE html>
                <html lang="es">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>${storeData.shopName}</title>
                    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap">
                    <style>
                        body {
                            font-family: '${storeData.font}', sans-serif;
                            margin: 0;
                            padding: 0;
                            box-sizing: border-box;
                            background-color: ${storeData.backgroundColor};
                            background-image: url(${storeData.backgroundImage});
                            background-size: cover;
                            color: #333;
                        }

                        header {
                            text-align: center;
                            padding: 20px;
                            background-color: ${storeData.themeColor};
                            color: white;
                        }

                        header img {
                            width: 150px;
                            height: 150px;
                            border-radius: 50%;
                            object-fit: cover;
                            margin-bottom: 10px;
                        }

                        main {
                            padding: 20px;
                        }

                        .product-item {
                            border: 1px solid #ddd;
                            border-radius: 8px;
                            padding: 15px;
                            background: #fff;
                            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                            text-align: center;
                        }

                        .product-item img {
                            width: 100px;
                            height: 100px;
                            border-radius: 10px;
                            object-fit: cover;
                            margin-bottom: 10px;
                        }

                        .product-grid {
                            display: flex;
                            flex-wrap: wrap;
                            gap: 20px;
                            justify-content: center;
                        }

                        .whatsapp-contact {
                            margin-top: 20px;
                            text-align: center;
                        }

                        .whatsapp-contact a {
                            color: #25D366;
                            text-decoration: none;
                            font-weight: bold;
                        }

                        .whatsapp-contact a:hover {
                            text-decoration: underline;
                        }

                        .menu-title-container {
                            text-align: center;
                            margin-bottom: 40px;
                            background-color: ${storeData.themeColor};
                            color: white;
                        }

                        .menu-title-container h2 {
                            margin: 0;
                            padding: 10px;
                        }

                        .product-heading {
                            margin-top: 30px;
                            font-size: 1.5em;
                            color: #e3240b;
                        }

                        .product-group {
                            margin-top: 20px;
                        }
                    </style>
                </head>
                <body>
                    <header>
                        <img src="${storeData.logoUrl || 'https://via.placeholder.com/150'}" alt="Logo">
                        <h1>${storeData.shopName}</h1>
                    </header>
                    <main>
                        <div class="menu-title-container">
                            <h2>Tienda en Línea</h2>
                        </div>
                        <div class="product-grid">
                            ${storeData.products.map(product => `
                                <div class="product-item">
                                    <img src="${product.image}" alt="${product.title}">
                                    <h3>${product.title}</h3>
                                    <p>${product.description}</p>
                                    <p>Precio: $${parseFloat(product.price).toFixed(2)}</p>
                                </div>
                            `).join('')}
                        </div>
                        ${storeData.whatsappNumber ? `<div class="whatsapp-contact">
                            <p>Contacta con nosotros en <a href="https://wa.me/${storeData.whatsappNumber}" target="_blank">WhatsApp</a></p>
                        </div>` : ''}
                        
                        <p>¿Tu MiniTienda está lista? ¡No olvides descargar tu código!<a href="https://minitienda.online" target="_blank">Contáctanos para ayudarte a desplegar tu MiniTienda en línea. </a></p>
                    </main>
                </body>
                </html>
            `);

            storeWindow.document.close();
        });

        document.getElementById('downloadCodeButton').addEventListener('click', function() {
            const storeData = JSON.parse(localStorage.getItem('storeData'));
            
            const htmlContent = `
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${storeData.shopName}</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap">
    <style>
        body {
            font-family: '${storeData.font}', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background-color: ${storeData.backgroundColor};
            background-image: url(${storeData.backgroundImage});
            background-size: cover;
            color: #333;
        }

        header {
            text-align: center;
            padding: 20px;
            background-color: ${storeData.themeColor};
            color: white;
        }

        header img {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 10px;
        }

        main {
            padding: 20px;
        }

        .product-item {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            background: #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .product-item img {
            width: 100px;
            height: 100px;
            border-radius: 10px;
            object-fit: cover;
            margin-bottom: 10px;
        }

        .product-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }

        .whatsapp-contact {
            margin-top: 20px;
            text-align: center;
        }

        .whatsapp-contact a {
            color: #25D366;
            text-decoration: none;
            font-weight: bold;
        }

        .whatsapp-contact a:hover {
            text-decoration: underline;
        }

        .menu-title-container {
            text-align: center;
            margin-bottom: 40px;
            background-color: ${storeData.themeColor};
            color: white;
        }

        .menu-title-container h2 {
            margin: 0;
            padding: 10px;
        }
    </style>
</head>
<body>
    <header>
        <img src="${storeData.logoUrl || 'https://via.placeholder.com/150'}" alt="Logo">
        <h1>${storeData.shopName}</h1>
    </header>
    <main>
        <div class="menu-title-container">
            <h2>Tienda en Línea</h2>
        </div>
        <div class="product-grid">
            ${storeData.products.map(product => `
                <div class="product-item">
                    <img src="${product.image}" alt="${product.title}">
                    <h3>${product.title}</h3>
                    <p>${product.description}</p>
                    <p>Precio: $${parseFloat(product.price).toFixed(2)}</p>
                </div>
            `).join('')}
        </div>
        ${storeData.whatsappNumber ? `<div class="whatsapp-contact">
            <p>Contacta con nosotros en <a href="https://wa.me/${storeData.whatsappNumber}" target="_blank">WhatsApp</a></p>
        </div>` : ''}
        
        <p>¿Tu MiniTienda está lista? ¡No olvides descargar tu código!<a href="https://minitienda.online" target="_blank">Contáctanos para ayudarte a ponerla en línea. </a></p>
    </main>
</body>
</html>
`;

            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${storeData.shopName.replace(/\s+/g, '_')}_store.html`;
            a.click();
            URL.revokeObjectURL(url);
        });

        document.getElementById('guideButton').addEventListener('click', function() {
            document.getElementById('guideModal').style.display = 'flex';
        });

        document.getElementById('closeGuide').addEventListener('click', function() {
            document.getElementById('guideModal').style.display = 'none';
        });

        document.getElementById('formSubmitted').addEventListener('change', function() {
            const ingresarButton = document.getElementById('ingresarButton');
            if (this.checked) {
                ingresarButton.classList.add('active');
            } else {
                ingresarButton.classList.remove('active');
            }
        });

        document.getElementById('ingresarButton').addEventListener('click', function() {
            if (document.getElementById('formSubmitted').checked) {
                document.querySelector('h2').style.display = 'none';
                document.querySelector('iframe').style.display = 'none';
                document.querySelector('.privacy-policy').style.display = 'none';
                document.getElementById('storeSetup').style.display = 'block';
                window.scrollTo(0, document.getElementById('storeSetup').offsetTop);
            }
        });
    </script>
</body>
</html>
